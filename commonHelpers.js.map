{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n'use strict';\nexport function getImages(request) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = new URLSearchParams({\n        key: '44531461-2364a69dbdf6d0d630a4dab14',\n        q: request,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        page: 1,\n        per_page: 30,\n    });\n\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n    console.log(url);\n\n    return fetch(url)\n    .then(res => {\n        if (res.ok) {\n            return res.json();\n        } else {\n            throw new Error(res.status);\n                  }\n});\n}\n","'use strict';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst gallery = document.querySelector('.image-gallery');\n\nexport function renderImages(images) {\n    const markup = images.hits.map((image) => {\n        return `\n        <li class=\"images-list-item\">\n            <a class=\"img-link\" href=\"${image.largeImageURL}\">\n                <img class=\"img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <ul class=\"img-dscr\">\n                <li class=\"img-data\">\n                    <p class=\"img-data-title\">Likes</p>\n                    <p class=\"img-data-numbers\">${image.likes}</p>\n                </li>\n                <li class=\"img-data\">\n                    <p class=\"img-data-title\">Views</p>\n                    <p class=\"img-data-numbers\">${image.views}</p>\n                </li>\n                <li class=\"img-data\">\n                    <p class=\"img-data-title\">Comments</p>\n                    <p class=\"img-data-numbers\">${image.comments}</p>\n                </li>\n                <li class=\"img-data\">\n                    <p class=\"img-data-title\">Downloads</p>\n                    <p class=\"img-data-numbers\">${image.downloads}</p>\n                </li>\n            </ul>\n        </li>`;\n    }).join('');\n\n    gallery.innerHTML = markup;\n}\n","'use strict';\nimport { getImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.image-search-form');\nconst searchInput = document.querySelector('.image-search-input');\nconst gallery = document.querySelector('.image-gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none'; \n\nlet request;\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    request = searchInput.value.trim(); \n\n    clearGallery();\n\n    if (!request) {\n        gallery.innerHTML = '';\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term',\n            position: 'topRight',\n            titleColor: '#fff',\n            titleSize: '16px',\n            backgroundColor: 'red',\n            messageColor: 'white',\n            \n        });\n        return;\n    }\n\n    loader.style.display = 'block'; \n\n    getImages(request)\n    .then(images => {\n        loader.style.display = 'none'; \n        if (images.hits.length === 0) {\n            gallery.innerHTML = '';\n            return iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                titleColor: '#fff',\n                titleSize: '16px',\n                backgroundColor: 'red',\n                messageColor: 'white',\n                \n            });\n        } else {\n            renderImages(images);\n            const lightbox = new SimpleLightbox('.image-gallery a', {\n                captions: true,\n                captionSelector: 'img',\n                captionType: 'attr',\n                captionsData: 'alt',\n                captionPosition: 'bottom',\n                captionDelay: 250,\n                animationSpeed: 300,\n                widthRatio: 1,\n                heightRatio: 0.95,\n                disableRightClick: true,\n              });\n              lightbox.refresh();\n        }\n    })\n    .catch(error => {\n        console.log(error);\n        loader.style.display = 'none'; \n    })\n    .finally(() => {\n        event.target.reset(); \n    });\n});\n\nfunction clearGallery() {\n    gallery.innerHTML = '';\n}\n"],"names":["getImages","request","BASE_URL","END_POINT","params","url","res","gallery","renderImages","images","markup","image","form","searchInput","loader","event","clearGallery","iziToast","SimpleLightbox","error"],"mappings":"6vBAEO,SAASA,EAAUC,EAAS,CAC/B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAM,EACN,SAAU,EAClB,CAAK,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,eAAQ,IAAIC,CAAG,EAER,MAAMA,CAAG,EACf,KAAKC,GAAO,CACT,GAAIA,EAAI,GACJ,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAEtC,CAAC,CACD,CCvBA,MAAMC,EAAU,SAAS,cAAc,gBAAgB,EAEhD,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAASD,EAAO,KAAK,IAAKE,GACrB;AAAA;AAAA,wCAEyBA,EAAM,aAAa;AAAA,wCACnBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kDAK5BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kDAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,kDAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAI5D,EAAE,KAAK,EAAE,EAEVJ,EAAQ,UAAYG,CACxB,CC1BA,MAAME,EAAO,SAAS,cAAc,oBAAoB,EAClDC,EAAc,SAAS,cAAc,qBAAqB,EAC1DN,EAAU,SAAS,cAAc,gBAAgB,EACjDO,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvB,IAAIb,EAEJW,EAAK,iBAAiB,SAAWG,GAAU,CAMvC,GALAA,EAAM,eAAc,EACpBd,EAAUY,EAAY,MAAM,OAE5BG,IAEI,CAACf,EAAS,CACVM,EAAQ,UAAY,GACpBU,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACT,SAAU,WACV,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,aAAc,OAE1B,CAAS,EACD,MACH,CAEDH,EAAO,MAAM,QAAU,QAEvBd,EAAUC,CAAO,EAChB,KAAKQ,GAAU,CAEZ,GADAK,EAAO,MAAM,QAAU,OACnBL,EAAO,KAAK,SAAW,EACvB,OAAAF,EAAQ,UAAY,GACbU,EAAS,MAAM,CAClB,QAAS,2EACT,SAAU,WACV,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,aAAc,OAE9B,CAAa,EAEDT,EAAaC,CAAM,EACF,IAAIS,EAAe,mBAAoB,CACpD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,IAChB,WAAY,EACZ,YAAa,IACb,kBAAmB,EACnC,CAAe,EACQ,QAAO,CAE9B,CAAK,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBL,EAAO,MAAM,QAAU,MAC/B,CAAK,EACA,QAAQ,IAAM,CACXC,EAAM,OAAO,OACrB,CAAK,CACL,CAAC,EAED,SAASC,GAAe,CACpBT,EAAQ,UAAY,EACxB"}